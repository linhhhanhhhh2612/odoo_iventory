<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_tra_lai" model="ir.actions.act_window">
        <field name="name">Chọn phiếu để Trả hàng</field>
        <field name="res_model">stock.picking</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('state', '=', 'done')]</field>
        <field name="context">{'create': False}</field> </record>

    <record id="action_cho_thu_kho" model="ir.actions.act_window">
        <field name="name">Hàng chờ Thủ kho</field>
        <field name="res_model">stock.picking</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_picking_tree_approval_mode"/>
        <field name="domain">[('x_approval_state', '=', 'waiting_warehouse')]</field>
    </record>

    <record id="action_cho_ke_toan" model="ir.actions.act_window">
        <field name="name">Hàng chờ Kế toán</field>
        <field name="res_model">stock.picking</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_picking_tree_approval_mode"/>
        <field name="domain">[('x_approval_state', '=', 'waiting_accountant')]</field>
    </record>

    <menuitem id="menu_vn_warehouse_root" name="QUẢN LÝ KHO (VN)" web_icon="stock,static/description/icon.png" sequence="1"/>

    <menuitem id="menu_group_a" name="Kho hàng" parent="menu_vn_warehouse_root" sequence="10"
              groups="vn_custom_warehouse.group_vn_employee"/>
        <menuitem id="menu_a_1" name="Tổng quan giao dịch" parent="menu_group_a" action="stock.stock_picking_type_action" sequence="1"/>
        <menuitem id="menu_a_2" name="Phiếu nhập kho" parent="menu_group_a" action="stock.action_picking_tree_incoming" sequence="2"/>
        <menuitem id="menu_a_3" name="Phiếu xuất kho" parent="menu_group_a" action="stock.action_picking_tree_outgoing" sequence="3"/>
        
        <menuitem id="menu_a_4" name="Nhập kho hàng trả lại" parent="menu_group_a" action="action_tra_lai" sequence="4"/>

    <menuitem id="menu_group_b" name="Duyệt &amp; xử lý" parent="menu_vn_warehouse_root" sequence="20"
              groups="vn_custom_warehouse.group_vn_stock_manager,vn_custom_warehouse.group_vn_accountant"/>
        <menuitem id="menu_b_1" name="Hàng chờ Thủ kho" parent="menu_group_b" action="action_cho_thu_kho" sequence="1"
                  groups="vn_custom_warehouse.group_vn_stock_manager"/>
        <menuitem id="menu_b_2" name="Hàng chờ Kế toán" parent="menu_group_b" action="action_cho_ke_toan" sequence="2"
                  groups="vn_custom_warehouse.group_vn_accountant"/>

    <menuitem id="menu_group_c" name="Báo cáo" parent="menu_vn_warehouse_root" sequence="30"
              groups="vn_custom_warehouse.group_vn_stock_manager,vn_custom_warehouse.group_vn_accountant"/>
        <menuitem id="menu_c_1" name="Tồn kho" parent="menu_group_c" action="stock.action_product_stock_view" sequence="1"/>
        <menuitem id="menu_c_2" name="Tồn kho chi tiết" parent="menu_group_c" action="stock.dashboard_open_quants" sequence="2"/>
        <menuitem id="menu_c_3" name="Nhập-Xuất-Tồn (Kỳ/Ngày)" parent="menu_group_c" action="stock.stock_move_action" sequence="3"/>
        <menuitem id="menu_c_4" name="Tồn kho theo Serial" parent="menu_group_c" action="stock.action_production_lot_form" sequence="4"/>
        <menuitem id="menu_c_5" name="Lịch sử Serial" parent="menu_group_c" action="stock.action_stock_report" sequence="5"/>
        <menuitem id="menu_c_6" name="Nhập-Xuất kho (Tổng hợp)" parent="menu_group_c" action="stock.action_picking_tree_all" sequence="6"/>

    <menuitem id="menu_group_d" name="Danh mục" parent="menu_vn_warehouse_root" sequence="40"
              groups="vn_custom_warehouse.group_vn_stock_manager"/>
        <menuitem id="menu_d_1" name="Kho &amp; Vị trí kho" parent="menu_group_d" action="stock.action_location_form" sequence="1"/>
        <menuitem id="menu_d_2" name="Sản phẩm/Vật tư" parent="menu_group_d" action="stock.product_template_action_product" sequence="2"/>
        <menuitem id="menu_d_3" name="Loại chứng từ / Mục đích" parent="menu_group_d" action="stock.action_picking_type_list" sequence="3"/>
</odoo>
